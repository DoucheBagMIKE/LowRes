<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>TriggerZone</name>
    <events>
        <event-group description="" sid="1687015132733808" title="Triggers">
            <sub-events>
                <event-block sid="208354988727665">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="4338109564686096" type="System" />
                        <condition id="-11" name="For Each" sid="4504459204036887" type="System">
                            <param id="0" name="Object">TriggerZone</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="5319402516874467" type="TriggerZone">
                            <param id="0" name="Object">CameraZone</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="1676888395110155" type="TriggerZone">
                            <param id="0" name="Instance variable">RoomUID</param>
                            <param id="1" name="Value">CameraZone.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4496125810771912">
                    <conditions>
                        <condition id="0" name="On function" sid="7290424634156651" type="Function">
                            <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="5039022214025389" type="TriggerZone">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="5" name="Push" sid="402089250974803" type="Array">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Value">TriggerZone.FunctionName&amp;&quot;  &quot;&amp;TriggerZone.Params</param>
                            <param id="2" name="Axis">0</param>
                        </action>
                        <action id="0" name="Call function" sid="6544466266498827" type="Function">
                            <param id="0" name="Name">TriggerZone.FunctionName</param>
                            <param id="1" name="Parameter {n}">TriggerZone.Params</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6072416832791389">
                    <conditions>
                        <condition id="0" name="On function" sid="673176755905724" type="Function">
                            <param id="0" name="Name">&quot;TriggerConditions&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="2034575954972735" type="TriggerZone">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="Flag" sid="6230332579546521" static="0" type="number">1</variable>
                        <event-block sid="1311652638117448">
                            <conditions>
                                <condition id="-12" name="Repeat" sid="7859920923539759" type="System">
                                    <param id="0" name="Count">tokencount(TriggerZone.Conditions, &quot; &quot;)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="7605115601493521">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="6160701589947416" type="System">
                                            <param id="0" name="First value">left(tokenat(TriggerZone.Conditions, loopindex, &quot; &quot;), 1)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;!&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="8524432401588054">
                                            <conditions>
                                                <condition id="3" name="Has key" sid="3390221494255868" type="GameStats">
                                                    <param id="0" name="Key">mid(tokenat(TriggerZone.Conditions, loopindex, &quot; &quot;), 1, len(tokenat(TriggerZone.Conditions, loopindex, &quot; &quot;)))</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="6595825812779576" type="System">
                                                    <param id="0" name="Variable">Flag</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="5089897507032776">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="574366670370263" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="9142848454966704">
                                            <conditions>
                                                <condition id="3" inverted="1" name="Has key" sid="9444139138499959" type="GameStats">
                                                    <param id="0" name="Key">tokenat(TriggerZone.Conditions, loopindex, &quot; &quot;)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="4824125873288901" type="System">
                                                    <param id="0" name="Variable">Flag</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="3266137818198333">
                            <conditions />
                            <actions>
                                <action id="1" name="Set return value" sid="6345531533830605" type="Function">
                                    <param id="0" name="Value">Flag</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>ComplexTrigger Calls Muliple Functions with parameters all testing there for there own conditions (if they have conditions). this makes it so you olny have to put down one trigger to do lots of things.&#x0D;&#x0A;&#x0D;&#x0A;SEE XML FOR ACTUAL FUNCTION</comment>
                <event-block sid="4002219734682113">
                    <conditions>
                        <condition disabled="1" id="0" name="On function" sid="3753432874023266" type="Function">
                            <param id="0" name="Name">&quot;ComplexTrigger&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="6715871188132635">
                    <conditions>
                        <condition id="-15" inverted="1" name="Is group active" sid="3430633191533267" type="System">
                            <param id="0" name="Group name">&quot;TextBox Logic&quot;</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="150177234779614" type="TriggerZone" />
                        <condition id="-11" name="For Each" sid="6319396754560436" type="System">
                            <param id="0" name="Object">TriggerZone</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="1769194774470072" type="System">
                            <param id="0" name="First value">Function.Call(&quot;TriggerConditions&quot;, TriggerZone.UID)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="381778490504974">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="9477623419557125" type="Enemies">
                                    <param id="0" name="Object">TriggerZone</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="3851173239312586" type="System">
                                    <param id="0" name="First value">find(TriggerZone.TriggeredBy, &quot;Enemy&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="2605955452391623" type="Function">
                                    <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                                    <param id="1" name="Parameter {n}">TriggerZone.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5989064088109259">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="8379248235501361" type="BASE">
                                    <param id="0" name="Object">TriggerZone</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="7127683506466545" type="System">
                                    <param id="0" name="First value">find(TriggerZone.TriggeredBy, &quot;Player&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="5152017699033389" type="Function">
                                    <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                                    <param id="1" name="Parameter {n}">TriggerZone.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1514727680294664">
                            <conditions>
                                <condition id="9" name="Is overlapping at offset" sid="4548116869039034" type="Rock">
                                    <param id="0" name="Object">TriggerZone</param>
                                    <param id="1" name="Offset X">0</param>
                                    <param id="2" name="Offset Y">0</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="6415855753851536" type="System">
                                    <param id="0" name="First value">find(TriggerZone.TriggeredBy, &quot;PushBlock&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="269656533709965" type="TriggerZone">
                                    <param id="0" name="Instance variable">Triggered</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="7875529855266886" type="TriggerZone">
                                    <param id="0" name="Instance variable">Triggered</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Call function" sid="9745568638345166" type="Function">
                                    <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                                    <param id="1" name="Parameter {n}">TriggerZone.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1582532118853418">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="6953938023968501" type="BASE">
                                    <param id="0" name="Object">TriggerZone</param>
                                </condition>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="3495490034981495" type="TriggerZone">
                                    <param id="0" name="Instance variable">Triggered</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9901674325320952" type="System">
                                    <param id="0" name="First value">find(TriggerZone.TriggeredBy, &quot;SmallKey&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                                <condition id="0" name="Compare value" sid="4991255040129821" type="GameStats">
                                    <param id="0" name="Key">&quot;keys&quot;</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="1620737371249874">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1667265524210502" type="Input">
                                            <param id="0" name="Instance variable">Button1</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Pressed&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="6899188404050885" type="Input">
                                            <param id="0" name="Instance variable">Button2</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Pressed&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="1061759562029504">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="8866146872654462" type="System">
                                                    <param id="0" name="First value">Function.Call(&quot;OpenUnlockable&quot;, TriggerZone.Params)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-11" name="Add to" sid="4498541164672888" type="BASE">
                                                    <param id="0" name="Instance variable">AttackTimer</param>
                                                    <param id="1" name="Value">0.5</param>
                                                </action>
                                                <action id="1" name="Set key" sid="628299136976501" type="GameStats">
                                                    <param id="0" name="Key">&quot;keys&quot;</param>
                                                    <param id="1" name="Value">GameStats.Get(&quot;keys&quot;) - 1</param>
                                                </action>
                                                <action id="0" name="Call function" sid="1158488652934258" type="Function">
                                                    <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                                                    <param id="1" name="Parameter {n}">TriggerZone.UID</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="6866596180977927" type="TriggerZone">
                                                    <param id="0" name="Instance variable">Triggered</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="2315808978342163">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="3022683548602393" type="BASE">
                                    <param id="0" name="Object">TriggerZone</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="5238166540905122" type="System">
                                    <param id="0" name="First value">find(TriggerZone.TriggeredBy, &quot;Buttons&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="2120972190430228">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="5925594317964153" type="Input">
                                            <param id="0" name="Instance variable">Button1</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Pressed&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="5313750046076799" type="Input">
                                            <param id="0" name="Instance variable">Button2</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Pressed&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Add to" sid="2102730031848767" type="BASE">
                                            <param id="0" name="Instance variable">AttackTimer</param>
                                            <param id="1" name="Value">0.5</param>
                                        </action>
                                        <action id="0" name="Call function" sid="3464970776441615" type="Function">
                                            <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                                            <param id="1" name="Parameter {n}">TriggerZone.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block disabled="1" sid="8609931091486064">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="7925678461191965" type="System">
                                    <param id="0" name="First value">find(TriggerZone.TriggeredBy, &quot;RoomCleared&quot;)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="1607461260791689" type="TriggerZone">
                                    <param id="0" name="Instance variable">Triggered</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="8318196259604212" type="CameraZone">
                                    <param id="0" name="Unique ID">TriggerZone.RoomUID</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="6715096764823873" type="Enemies">
                                    <param id="0" name="Object">CameraZone</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="4180990095575683" type="System">
                                    <param id="0" name="First value">Enemies.PickedCount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="9020028188566312" type="TriggerZone">
                                    <param id="0" name="Instance variable">Triggered</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Call function" sid="3607673106552956" type="Function">
                                    <param id="0" name="Name">&quot;TriggerZone&quot;</param>
                                    <param id="1" name="Parameter {n}">TriggerZone.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>

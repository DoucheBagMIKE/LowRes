<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>GhostStates</name>
    <events>
        <comment>Old Wait for Player code</comment>
        <event-block sid="4951904936302423">
            <conditions>
                <condition id="0" name="On function" sid="5863571357977792" type="Function">
                    <param id="0" name="Name">&quot;Wait&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="2233445179388257" type="NPC">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="4496978783258386" type="NPCData">
                    <param id="0" name="Unique ID">NPC.DataUID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8431293696462526" type="FSM">
                    <param id="0" name="Unique ID">NPC.FSM_UID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="9537396631213728" type="PointsOfIntrest">
                    <param id="0" name="Unique ID">NPCData.Get(&quot;Target&quot;)</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="3608770510649112">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="8515445550277763" type="System">
                            <param id="0" name="First value">distance(PointsOfIntrest.X, PointsOfIntrest.Y, NPC.X, NPC.Y)</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Second value">8</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="6" name="Pop" sid="3508301652621256" type="FSM">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Axis">0</param>
                        </action>
                        <action id="5" name="Push" sid="4234346073774044" type="FSM">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Value">&quot;Follow&quot;</param>
                            <param id="2" name="Axis">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Old follow player code</comment>
        <event-block sid="3099288846329296">
            <conditions>
                <condition id="0" name="On function" sid="6556364447571034" type="Function">
                    <param id="0" name="Name">&quot;Follow&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="4097090026659597" type="NPC">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="3706646213802529" type="FSM">
                    <param id="0" name="Unique ID">NPC.FSM_UID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="876052655663045" type="NPCData">
                    <param id="0" name="Unique ID">NPC.DataUID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8649149665754794" type="PointsOfIntrest">
                    <param id="0" name="Unique ID">NPCData.Get(&quot;Target&quot;)</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="6032709264585833">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="1857916958835023" type="System">
                            <param id="0" name="First value">distance(PointsOfIntrest.X, PointsOfIntrest.Y, NPC.X, NPC.Y)</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Second value">16</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="5" name="Push" sid="4368230869771062" type="FSM">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Value">&quot;Wander&quot;</param>
                            <param id="2" name="Axis">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7990807022632559">
                    <conditions>
                        <condition id="-22" name="Else" sid="4988005580604746" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="CustomMovement" id="4" name="Accelerate toward angle" sid="8707770107659812" type="NPC">
                            <param id="0" name="Acceleration">128</param>
                            <param id="1" name="Angle">angle(NPC.X,NPC.Y, PointsOfIntrest.X,PointsOfIntrest.Y)</param>
                        </action>
                        <action behavior="CustomMovement" id="2" name="Set speed" sid="6154591237057849" type="NPC">
                            <param id="0" name="Which">0</param>
                            <param id="1" name="Speed">clamp(NPC.CustomMovement.Speed,0,distance(PointsOfIntrest.X,PointsOfIntrest.Y,NPC.X,npc.Y))</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Make the Npc Wander around a point old need redone</comment>
        <event-block sid="2713971344973819">
            <conditions>
                <condition id="0" name="On function" sid="4684375329601006" type="Function">
                    <param id="0" name="Name">&quot;Wander&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="5415726443718324" type="NPC">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="5142343897967653" type="NPCData">
                    <param id="0" name="Unique ID">NPC.DataUID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="868131328086693" type="FSM">
                    <param id="0" name="Unique ID">NPC.FSM_UID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8851107907892842" type="PointsOfIntrest">
                    <param id="0" name="Unique ID">NPCData.Get(&quot;Target&quot;)</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block any="1" sid="206442868241594">
                    <conditions>
                        <condition id="3" inverted="1" name="Has key" sid="9258775983664534" type="NPCData">
                            <param id="0" name="Key">&quot;Wander X&quot;</param>
                        </condition>
                        <condition id="3" inverted="1" name="Has key" sid="411357976736831" type="NPCData">
                            <param id="0" name="Key">&quot;Wander Y&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Add key" sid="73527904569802" type="NPCData">
                            <param id="0" name="Key">&quot;Wander X&quot;</param>
                            <param id="1" name="Value">random(PointsOfIntrest.X - 16, PointsOfIntrest.X + 16)</param>
                        </action>
                        <action id="0" name="Add key" sid="1582630006548147" type="NPCData">
                            <param id="0" name="Key">&quot;Wander Y&quot;</param>
                            <param id="1" name="Value">random(PointsOfIntrest.Y - 16, PointsOfIntrest.Y + 16)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3169782720850787">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="4442291364660478" type="System">
                            <param id="0" name="First value">distance(PointsOfIntrest.X, PointsOfIntrest.Y, NPC.X, NPC.Y)</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Second value">32</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="4863637032810501">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2980752781967175" type="System">
                                    <param id="0" name="First value">distance(NPC.X,NPC.Y, NPCData.Get(&quot;Wander X&quot;),NPCData.Get(&quot;Wander Y&quot;))</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">4</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="CustomMovement" id="2" name="Set speed" sid="1085384214592632" type="NPC">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="Speed">0</param>
                                </action>
                                <action id="2" name="Delete key" sid="6382860869388193" type="NPCData">
                                    <param id="0" name="Key">&quot;Wander X&quot;</param>
                                </action>
                                <action id="2" name="Delete key" sid="9085775937167637" type="NPCData">
                                    <param id="0" name="Key">&quot;Wander Y&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4371257237391095">
                            <conditions>
                                <condition id="-22" name="Else" sid="3381081737371679" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="CustomMovement" id="4" name="Accelerate toward angle" sid="1914721672059786" type="NPC">
                                    <param id="0" name="Acceleration">8</param>
                                    <param id="1" name="Angle">angle(Npc.X,NPC.Y,NPCData.Get(&quot;Wander X&quot;), NPCData.Get(&quot;Wander Y&quot;))</param>
                                </action>
                                <action behavior="CustomMovement" id="2" name="Set speed" sid="5271649333875634" type="NPC">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="Speed">clamp(NPC.CustomMovement.Speed,0,8)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="9593309976685964">
                    <conditions>
                        <condition id="-22" name="Else" sid="8976785574487686" type="System" />
                    </conditions>
                    <actions>
                        <action id="2" name="Delete key" sid="8538671020205239" type="NPCData">
                            <param id="0" name="Key">&quot;Wander X&quot;</param>
                        </action>
                        <action id="2" name="Delete key" sid="1876402170747192" type="NPCData">
                            <param id="0" name="Key">&quot;Wander Y&quot;</param>
                        </action>
                        <action id="6" name="Pop" sid="3251985284273518" type="FSM">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Axis">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Make The Npc Move to and wait at a Point of intrest while some trigger is being collided with by the player.</comment>
        <event-block sid="938576623253004">
            <conditions>
                <condition id="0" name="On function" sid="1753238201963569" type="Function">
                    <param id="0" name="Name">&quot;NpcTest&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="7583777193807818" type="NPC">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="709654398563981" type="NPCData">
                    <param id="0" name="Unique ID">NPC.DataUID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="2298552188254921" type="FSM">
                    <param id="0" name="Unique ID">NPC.FSM_UID</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="9534753434538552">
                    <conditions>
                        <condition id="3" name="Has key" sid="4468716843853921" type="NPCData">
                            <param id="0" name="Key">&quot;NpcTestParams&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Add key" sid="8303969466435739" type="NPCData">
                            <param id="0" name="Key">&quot;LastPoint&quot;</param>
                            <param id="1" name="Value">NPCData.Get(&quot;Target&quot;)</param>
                        </action>
                        <action id="1" name="Set key" sid="4010708863460526" type="NPCData">
                            <param id="0" name="Key">&quot;Target&quot;</param>
                            <param id="1" name="Value">int(tokenat(NPCData.Get(&quot;NpcTestParams&quot;),0, &quot; &quot;))</param>
                        </action>
                        <action id="0" name="Add key" sid="1950988234516754" type="NPCData">
                            <param id="0" name="Key">&quot;TriggerUID&quot;</param>
                            <param id="1" name="Value">int(tokenat(NPCData.Get(&quot;NpcTestParams&quot;),1, &quot; &quot;))</param>
                        </action>
                        <action disabled="1" id="0" name="Add key" sid="9618538059856353" type="NPCData">
                            <param id="0" name="Key">&quot;IsBeingTriggered&quot;</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="2" name="Delete key" sid="2593353656887811" type="NPCData">
                            <param id="0" name="Key">&quot;NpcTestParams&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9518040649534324">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="7493458295791689" type="TriggerZone">
                            <param id="0" name="Unique ID">NPCData.Get(&quot;TriggerUID&quot;)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="3083484897147185">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5475817115449376" type="System">
                                    <param id="0" name="First value">Function.Call(&quot;TriggerConditions&quot;, TriggerZone.UID)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="900892153364494" type="Function">
                                    <param id="0" name="Name">&quot;PopState&quot;</param>
                                    <param id="1" name="Parameter {n}">NPC.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4563866751769222">
                            <conditions>
                                <condition id="-22" name="Else" sid="4117301513291579" type="System" />
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="4888167995772972" type="BASE">
                                    <param id="0" name="Object">TriggerZone</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="5216555879993617" type="Function">
                                    <param id="0" name="Name">&quot;PopState&quot;</param>
                                    <param id="1" name="Parameter {n}">NPC.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4086736359340795">
                            <conditions>
                                <condition id="-22" name="Else" sid="9457515381412857" type="System" />
                                <condition id="-14" name="Pick by unique ID" sid="8419913556563506" type="PointsOfIntrest">
                                    <param id="0" name="Unique ID">NPCData.Get(&quot;Target&quot;)</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9915175734114886" type="System">
                                    <param id="0" name="First value">distance(PointsOfIntrest.X, PointsOfIntrest.Y, NPC.X, NPC.Y)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">8</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="6521199461540058" type="Function">
                                    <param id="0" name="Name">&quot;SetGhostState&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;MoveToPOI&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Make the Npc Wait At The Point of Intrest until some triggerzone is activated</comment>
        <event-block sid="3464306396136324">
            <conditions>
                <condition id="0" name="On function" sid="8994006542611427" type="Function">
                    <param id="0" name="Name">&quot;WaitAtPOI&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="1638226694029111" type="NPC">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="2056726969343384" type="NPCData">
                    <param id="0" name="Unique ID">NPC.DataUID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="7051921721203704" type="FSM">
                    <param id="0" name="Unique ID">NPC.FSM_UID</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="3197949050329254">
                    <conditions>
                        <condition id="3" name="Has key" sid="9967795588151686" type="NPCData">
                            <param id="0" name="Key">&quot;WaitAtPOIParams&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set key" sid="7373797052129379" type="NPCData">
                            <param id="0" name="Key">&quot;Target&quot;</param>
                            <param id="1" name="Value">int(tokenat(NPCData.Get(&quot;WaitAtPOIParams&quot;),0, &quot; &quot;))</param>
                        </action>
                        <action id="0" name="Add key" sid="8645705090755176" type="NPCData">
                            <param id="0" name="Key">&quot;TriggerUID&quot;</param>
                            <param id="1" name="Value">int(tokenat(NPCData.Get(&quot;WaitAtPOIParams&quot;),1, &quot; &quot;))</param>
                        </action>
                        <action id="0" name="Add key" sid="7982408108975377" type="GameStats">
                            <param id="0" name="Key">&quot;GhostWait&quot;</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="2" name="Delete key" sid="9440437823883889" type="NPCData">
                            <param id="0" name="Key">&quot;WaitAtPOIParams&quot;</param>
                        </action>
                        <action id="0" name="Call function" sid="8424011568235327" type="Function">
                            <param id="0" name="Name">&quot;GhostRGB&quot;</param>
                            <param id="1" name="Parameter {n}">16{###}0{###}12</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6815550465259356">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="4478030497439594" type="PointsOfIntrest">
                            <param id="0" name="Unique ID">NPCData.Get(&quot;Target&quot;)</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="1546864430445208" type="System">
                            <param id="0" name="First value">distance(PointsOfIntrest.X, PointsOfIntrest.Y, NPC.X, NPC.Y)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">8</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="6540634837486094" type="Function">
                            <param id="0" name="Name">&quot;SetGhostState&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;MoveToPOI&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4945824032529912">
                    <conditions>
                        <condition id="-22" name="Else" sid="982226909583595" type="System" />
                        <condition id="-14" name="Pick by unique ID" sid="7047111906940983" type="TriggerZone">
                            <param id="0" name="Unique ID">NPCData.Get(&quot;TriggerUID&quot;)</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="1907933375674754" type="BASE">
                            <param id="0" name="Object">TriggerZone</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="2" name="Delete key" sid="309729763464273" type="GameStats">
                            <param id="0" name="Key">&quot;GhostWait&quot;</param>
                        </action>
                        <action id="0" name="Call function" sid="6799761720638836" type="Function">
                            <param id="0" name="Name">&quot;GhostRGB&quot;</param>
                            <param id="1" name="Parameter {n}">Ghost.SR{###}Ghost.SG{###}Ghost.SB</param>
                        </action>
                        <action id="0" name="Call function" sid="4555530535192897" type="Function">
                            <param id="0" name="Name">&quot;PopState&quot;</param>
                            <param id="1" name="Parameter {n}">NPC.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Set The Ghosts Target color</comment>
        <event-block sid="4940199386500309">
            <conditions>
                <condition id="0" name="On function" sid="1536944789970592" type="Function">
                    <param id="0" name="Name">&quot;GhostRGB&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="1212822051368417">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="6590167090947513" type="System">
                            <param id="0" name="First value">Function.Param(0)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">&quot;&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="9862337507268663" type="Ghost">
                            <param id="0" name="Instance variable">TR</param>
                            <param id="1" name="Value">Ghost.SR</param>
                        </action>
                        <action id="-10" name="Set value" sid="9857928598435552" type="Ghost">
                            <param id="0" name="Instance variable">TG</param>
                            <param id="1" name="Value">Ghost.SG</param>
                        </action>
                        <action id="-10" name="Set value" sid="4912246056085631" type="Ghost">
                            <param id="0" name="Instance variable">TB</param>
                            <param id="1" name="Value">Ghost.SB</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6663542222071843">
                    <conditions>
                        <condition id="-22" name="Else" sid="4303828949687867" type="System" />
                        <condition id="-8" name="Compare two values" sid="9253996609635702" type="System">
                            <param id="0" name="First value">Function.ParamCount</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="7257988082348006" type="Ghost">
                            <param id="0" name="Instance variable">TR</param>
                            <param id="1" name="Value">int(tokenat(Function.Param(0), 0, &quot; &quot;))</param>
                        </action>
                        <action id="-10" name="Set value" sid="3147600541807373" type="Ghost">
                            <param id="0" name="Instance variable">TG</param>
                            <param id="1" name="Value">int(tokenat(Function.Param(0), 1, &quot; &quot;))</param>
                        </action>
                        <action id="-10" name="Set value" sid="7750273692293237" type="Ghost">
                            <param id="0" name="Instance variable">TB</param>
                            <param id="1" name="Value">int(tokenat(Function.Param(0), 2, &quot; &quot;))</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6530991251614386">
                    <conditions>
                        <condition id="-22" name="Else" sid="272284865789468" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="5663531695624878" type="Ghost">
                            <param id="0" name="Instance variable">TR</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-10" name="Set value" sid="33399272968378" type="Ghost">
                            <param id="0" name="Instance variable">TG</param>
                            <param id="1" name="Value">Function.Param(1)</param>
                        </action>
                        <action id="-10" name="Set value" sid="3597490828307665" type="Ghost">
                            <param id="0" name="Instance variable">TB</param>
                            <param id="1" name="Value">Function.Param(2)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>HelperFuction That is the same as SetState except yoiu dont need the uid of the NPC.</comment>
        <event-block sid="670781926348674">
            <conditions>
                <condition id="0" name="On function" sid="3145201998176674" type="Function">
                    <param id="0" name="Name">&quot;SetGhostState&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="9497714036104528" type="NPC">
                    <param id="0" name="Unique ID">Ghost.UID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="7587601843924944" type="NPCData">
                    <param id="0" name="Unique ID">NPC.DataUID</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="6616683423902311" type="FSM">
                    <param id="0" name="Unique ID">NPC.FSM_UID</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Add key" sid="902664605463989" type="NPCData">
                    <param id="0" name="Key">&quot;Data&quot;&amp;FSM.Width-1</param>
                    <param id="1" name="Value">NPCData.AsJSON</param>
                </action>
            </actions>
            <sub-events>
                <variable constant="0" name="Data" sid="6868662265999843" static="0" type="text"></variable>
                <event-block sid="6835281467562835">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="969792219326849" type="System">
                            <param id="0" name="First value">tokencount(Function.Param(0), &quot; &quot;)</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="4746061730641832">
                            <conditions>
                                <condition id="-12" name="Repeat" sid="9931488197844932" type="System">
                                    <param id="0" name="Count">tokencount(Function.Param(0), &quot; &quot;)-1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="424027498987784" type="System">
                                    <param id="0" name="Variable">Data</param>
                                    <param id="1" name="Value">Data&amp;tokenat(Function.Param(0), loopindex+1, &quot; &quot;)&amp;&quot; &quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9587582137829513">
                            <conditions />
                            <actions>
                                <action id="5" name="Push" sid="3007627559732976" type="FSM">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">tokenat(Function.Param(0),0, &quot; &quot;)</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="0" name="Add key" sid="1652584742004923" type="NPCData">
                                    <param id="0" name="Key">tokenat(Function.Param(0),0, &quot; &quot;)&amp;&quot;Params&quot;</param>
                                    <param id="1" name="Value">mid(Data,0,len(Data)-1)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="205500728238841">
                    <conditions>
                        <condition id="-22" name="Else" sid="333127285598952" type="System" />
                    </conditions>
                    <actions>
                        <action id="5" name="Push" sid="8044326362984878" type="FSM">
                            <param id="0" name="Where">0</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                            <param id="2" name="Axis">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>

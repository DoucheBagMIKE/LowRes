<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Main</name>
    <events>
        <include>GUI</include>
        <include>Xml</include>
        <include>Save-Load</include>
        <include>Input</include>
        <include>Z Ordering</include>
        <include>TriggerZone</include>
        <include>TextBox</include>
        <include>Player</include>
        <include>Interactive</include>
        <include>Enemys</include>
        <include>Pausing</include>
        <include>Camara</include>
        <include>Spawner</include>
        <include>Traps</include>
        <include>Unlockable</include>
        <include>DoorsTeleporting</include>
        <include>Item Functions</include>
        <include>Spawnable Effects</include>
        <include>Musix</include>
        <include>FiniteStateMachine</include>
        <include>Particle</include>
        <include>Light</include>
        <variable constant="0" name="Quality" sid="693304184002963" static="0" type="text">low</variable>
        <variable constant="0" name="MenuMoved" sid="2498301788833179" static="0" type="number">0</variable>
        <variable constant="0" name="Pause" sid="926908428210607" static="0" type="number">2</variable>
        <variable constant="0" name="LerpSDP" sid="6098572964459686" static="0" type="number">0.5</variable>
        <variable constant="0" name="MusicPlaying" sid="3137294078195374" static="0" type="text"></variable>
        <variable constant="0" name="ZoneLoaded" sid="6203516161513996" static="0" type="number">0</variable>
        <variable constant="0" name="ScrolltoX" sid="4387079001928423" static="0" type="number">0</variable>
        <variable constant="0" name="ScrolltoY" sid="5820235018737976" static="0" type="number">0</variable>
        <variable constant="0" name="CurZone" sid="5523916427160463" static="0" type="number">-1</variable>
        <event-block sid="2712545167009221">
            <conditions>
                <condition id="-2" name="On start of layout" sid="7724518492129189" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Call function" sid="8062961792606357" type="Function">
                    <param id="0" name="Name">&quot;ScrolltoPlayer&quot;</param>
                    <param id="1" name="Parameter {n}"></param>
                </action>
                <action id="-10" name="Set value" sid="7206683886493786" type="BASE">
                    <param id="0" name="Instance variable">MaxSpd</param>
                    <param id="1" name="Value">BASE.8Direction.MaxSpeed</param>
                </action>
                <action id="-10" name="Set value" sid="9819810724589436" type="BASE">
                    <param id="0" name="Instance variable">Decel</param>
                    <param id="1" name="Value">BASE.8Direction.Deceleration</param>
                </action>
                <action id="-10" name="Set value" sid="7837246215356541" type="Sprite">
                    <param id="0" name="Instance variable">StartX</param>
                    <param id="1" name="Value">self.X</param>
                </action>
                <action id="-10" name="Set value" sid="6328533645766537" type="Sprite">
                    <param id="0" name="Instance variable">StartY</param>
                    <param id="1" name="Value">self.Y</param>
                </action>
                <action id="-15" name="Set visible" sid="3265584362460109" type="TextBox">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-15" name="Set visible" sid="5796303181191141" type="TextBoxText">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="0" name="Add key" sid="7571134731464853" type="GameStats">
                    <param id="0" name="Key">&quot;keys&quot;</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="0" name="Add key" sid="1156998756379433" type="GameStats">
                    <param id="0" name="Key">&quot;CurHP&quot;</param>
                    <param id="1" name="Value">6</param>
                </action>
                <action id="0" name="Add key" sid="2146797736316446" type="GameStats">
                    <param id="0" name="Key">&quot;MaxHP&quot;</param>
                    <param id="1" name="Value">6</param>
                </action>
                <action id="-9" name="Destroy" sid="9590643569551772" type="Light" />
                <action id="-9" name="Destroy" sid="4340293376896861" type="Enemies" />
                <action id="-9" name="Destroy" sid="4025836781457323" type="Particles" />
                <action disabled="1" id="-15" name="Set visible" sid="6149383799997393" type="Mirror">
                    <param id="0" name="Visibility">0</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="2423298807149933">
                    <conditions>
                        <condition id="-11" name="For Each" sid="69167202464472" type="System">
                            <param id="0" name="Object">Spawners</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="788418773056678" type="Spawners">
                            <param id="0" name="Object">CameraZone</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="6165600258020446" type="Spawners">
                            <param id="0" name="Instance variable">Zone</param>
                            <param id="1" name="Value">CameraZone.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="7922617050674798" title="DEBUG">
            <sub-events>
                <event-block any="1" sid="141615764024376">
                    <conditions>
                        <condition id="3" name="Is button down" sid="2954166013619666" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">5</param>
                        </condition>
                        <condition id="2" name="Is in touch" sid="4664528864264697" type="Touch" />
                        <condition id="2" name="Key is down" sid="1135250835130954" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="11" name="Set collisions enabled" sid="8803281959078037" type="BASE">
                            <param id="0" name="Collisions">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4665048051051859">
                    <conditions>
                        <condition id="-22" name="Else" sid="769878235810528" type="System" />
                    </conditions>
                    <actions>
                        <action id="11" name="Set collisions enabled" sid="1852080070675076" type="BASE">
                            <param id="0" name="Collisions">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1454136079095475">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="1255290743840532" type="Keyboard">
                            <param id="0" name="Key">49 (1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="4544396870272253" type="System">
                            <param id="0" name="Variable">Quality</param>
                            <param id="1" name="Value">&quot;low&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3754978624867264">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="1423406362165489" type="Keyboard">
                            <param id="0" name="Key">50 (2)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="6270731023640886" type="System">
                            <param id="0" name="Variable">Quality</param>
                            <param id="1" name="Value">&quot;high&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4729762824856659">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="1797699592500517" type="System">
                            <param id="0" name="Variable">Quality</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;low&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-40" name="Set fullscreen scaling" sid="5538168951471063" type="System">
                            <param id="0" name="Fullscreen scaling">0</param>
                        </action>
                        <action id="-47" name="Set pixel rounding" sid="7275069383883366" type="System">
                            <param id="0" name="Mode">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5333404837234322">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="7474130696788703" type="System">
                            <param id="0" name="Variable">Quality</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;high&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-40" name="Set fullscreen scaling" sid="7712079552021337" type="System">
                            <param id="0" name="Fullscreen scaling">1</param>
                        </action>
                        <action id="-47" name="Set pixel rounding" sid="1106048489155968" type="System">
                            <param id="0" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="721896659797865">
            <conditions>
                <condition id="2" name="Is in touch" sid="9960711138224674" type="Touch" />
            </conditions>
            <actions>
                <action id="-3" name="Set position" sid="2329286739381299" type="BASE">
                    <param id="0" name="X">lerp(self.x,touch.X,0.1)</param>
                    <param id="1" name="Y">lerp(self.Y,touch.Y,0.1)</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4971719520233681">
            <conditions>
                <condition id="-18" name="On created" sid="5933678968018143" type="SourceBeam" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="8906992080729894">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="6785844996951983" type="BeamSource">
                            <param id="0" name="Instance variable">Dir</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Right&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="6707756695880777" type="SourceBeam">
                            <param id="0" name="Angle">180</param>
                        </action>
                        <action id="-8" name="Set angle" sid="5411200150596577" type="BeamSource">
                            <param id="0" name="Angle">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3385895619361051">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9125290079202688" type="BeamSource">
                            <param id="0" name="Instance variable">Dir</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Down&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="8125988160907232" type="SourceBeam">
                            <param id="0" name="Angle">270</param>
                        </action>
                        <action id="-8" name="Set angle" sid="619882575256774" type="BeamSource">
                            <param id="0" name="Angle">90</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6579206738934012">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="5353245187502146" type="BeamSource">
                            <param id="0" name="Instance variable">Dir</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Left&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="7457548426596286" type="SourceBeam">
                            <param id="0" name="Angle">0</param>
                        </action>
                        <action id="-8" name="Set angle" sid="4637449097312447" type="BeamSource">
                            <param id="0" name="Angle">180</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2711008803656561">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="2007708472318151" type="BeamSource">
                            <param id="0" name="Instance variable">Dir</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Up&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="7681583770115813" type="SourceBeam">
                            <param id="0" name="Angle">90</param>
                        </action>
                        <action id="-8" name="Set angle" sid="7159486249740159" type="BeamSource">
                            <param id="0" name="Angle">270</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="332102012427395">
            <conditions>
                <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="6167302912655621" type="BeamSource">
                    <param id="0" name="Object">Mirror</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="4946379451816515" type="SourceBeam">
                    <param id="0" name="Width">distance(BeamSource.X,BeamSource.Y, Mirror.X,Mirror.Y)</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9269225397212602">
            <conditions>
                <condition id="0" name="On collision with another object" sid="2642833517638362" type="SourceBeam">
                    <param id="0" name="Object">Mirror</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="6489867377418013" type="Mirror">
                    <param id="0" name="Instance variable">BeamUID</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">-1</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="2291234549217964">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="2171931472385837" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="425998673328251">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="9396915783947988" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="4800863004216549" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Down&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="698858960870054">
                            <conditions>
                                <condition id="-22" name="Else" sid="6884432352498679" type="System" />
                                <condition id="-8" name="Compare two values" sid="1462913762043573" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">270</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="6763118950138618" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Left&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="931735708759149">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="4611435977636985" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="8293835044527075">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5998289856110438" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">180</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="317797321306997" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Down&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7559155831140008">
                            <conditions>
                                <condition id="-22" name="Else" sid="6958744033882038" type="System" />
                                <condition id="-8" name="Compare two values" sid="8371079089984478" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">270</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="8565361246004745" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Right&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6423663884547613">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="3482346056863193" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="5922299482968844">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2482905023039455" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">180</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="9729227905014551" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Up&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7084086690093162">
                            <conditions>
                                <condition id="-22" name="Else" sid="4959712877666067" type="System" />
                                <condition id="-8" name="Compare two values" sid="5342870752762345" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">90</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="7122945713340652" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Right&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8047139028825336">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="334013957426029" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">3</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="5488738789879607">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="896979125848513" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="5706833261994501" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Up&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6386185340320552">
                            <conditions>
                                <condition id="-22" name="Else" sid="3895897597167004" type="System" />
                                <condition id="-8" name="Compare two values" sid="8382472415749523" type="System">
                                    <param id="0" name="First value">SourceBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">90</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="6939924333198055" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Left&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="9061662131651299">
            <conditions>
                <condition id="0" name="On collision with another object" sid="1850401511873112" type="MirrorBeam">
                    <param id="0" name="Object">Mirror</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="4258662919993147" type="Mirror">
                    <param id="0" name="Instance variable">BeamUID</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">-1</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="6792919685175111">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="8174893722235894" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="3107652865998743">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="591115737048493" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="8617539074912407" type="Function">
                                    <param id="0" name="Name">&quot;CreateBeam&quot;</param>
                                    <param id="1" name="Parameter {n}">Mirror.UID{###}&quot;Down&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8610726335841585">
                            <conditions>
                                <condition id="-22" name="Else" sid="8356887323491429" type="System" />
                                <condition id="-8" name="Compare two values" sid="3790208279787855" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">270</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="4249891348221972" type="Function">
                                    <param id="0" name="Name">&quot;CreateBeam&quot;</param>
                                    <param id="1" name="Parameter {n}">Mirror.UID{###}&quot;Left&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8478165534095864">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="59512768982008" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="1748216989575738">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2249242612394155" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">180</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="9324542391476634" type="Function">
                                    <param id="0" name="Name">&quot;CreateBeam&quot;</param>
                                    <param id="1" name="Parameter {n}">Mirror.UID{###}&quot;Down&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2624401712025686">
                            <conditions>
                                <condition id="-22" name="Else" sid="2030597980274644" type="System" />
                                <condition id="-8" name="Compare two values" sid="1137438053910816" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">270</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="6729639824685817" type="Function">
                                    <param id="0" name="Name">&quot;CreateBeam&quot;</param>
                                    <param id="1" name="Parameter {n}">Mirror.UID{###}&quot;Right&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="1731871626190858">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="7316611929347251" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="5346201578295065">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="4583666178799138" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">180</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="8054987940606077" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Up&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7986739522770522">
                            <conditions>
                                <condition id="-22" name="Else" sid="9622349352595514" type="System" />
                                <condition id="-8" name="Compare two values" sid="9243220427368603" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">90</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="7833804953844442" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Right&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="5894179148918976">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="7588209296458415" type="Mirror">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">3</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2547274356355626">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="6984009004170675" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="6056199305498411" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Up&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3964546504470785">
                            <conditions>
                                <condition id="-22" name="Else" sid="4619267054791965" type="System" />
                                <condition id="-8" name="Compare two values" sid="4356875202229979" type="System">
                                    <param id="0" name="First value">MirrorBeam.Angle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">90</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="6001678836520671" type="Mirror">
                                    <param id="0" name="Instance variable">BeamUID</param>
                                    <param id="1" name="Value">Function.Call(&quot;CreateBeam&quot;, Mirror.UID, &quot;Left&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="7344878737097725">
            <conditions>
                <condition id="0" name="On function" sid="5507960234102467" type="Function">
                    <param id="0" name="Name">&quot;CreateBeam&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="LastX" sid="5464339580212726" static="0" type="number">0</variable>
                <variable constant="0" name="LastY" sid="175252723285596" static="0" type="number">0</variable>
                <variable constant="0" name="LosUID" sid="1665102797280638" static="0" type="number">0</variable>
                <variable constant="0" name="BeamUID" sid="8606340050122814" static="0" type="number">0</variable>
                <event-block sid="768223064898826">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="7776106032598206" type="Mirror">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="9126351988675106" type="MirrorLOS">
                            <param id="0" name="Unique ID">Mirror.LosUID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="4728029718455403" type="System">
                            <param id="0" name="Object to create">MirrorBeam</param>
                            <param id="1" name="Layer">&quot;OBJECT&quot;</param>
                            <param id="2" name="X">Mirror.X</param>
                            <param id="3" name="Y">Mirror.Y</param>
                        </action>
                        <action id="-9" name="Set value" sid="2921242104499273" type="System">
                            <param id="0" name="Variable">LastX</param>
                            <param id="1" name="Value">MirrorLos.X</param>
                        </action>
                        <action id="-9" name="Set value" sid="9680526442428666" type="System">
                            <param id="0" name="Variable">LastY</param>
                            <param id="1" name="Value">MirrorLos.Y</param>
                        </action>
                        <action id="-9" name="Set value" sid="4778060096326319" type="System">
                            <param id="0" name="Variable">LosUID</param>
                            <param id="1" name="Value">Mirror.LosUID</param>
                        </action>
                        <action id="-9" name="Set value" sid="2212682143066256" type="System">
                            <param id="0" name="Variable">BeamUID</param>
                            <param id="1" name="Value">MirrorBeam.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="1146808841065378" type="Mirror">
                            <param id="0" name="Instance variable">BeamUID</param>
                            <param id="1" name="Value">BeamUID</param>
                        </action>
                        <action disabled="1" id="-5" name="Set width" sid="3171183636339586" type="MirrorBeam">
                            <param id="0" name="Width">100</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="8429234196218718">
                            <conditions>
                                <condition id="1" name="Compare parameter" sid="179653280607876" type="Function">
                                    <param id="0" name="Index">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Up&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="7053277573371639" type="MirrorBeam">
                                    <param id="0" name="Angle">90</param>
                                </action>
                                <action id="-8" name="Set angle" sid="6809405584869683" type="MirrorLOS">
                                    <param id="0" name="Angle">270</param>
                                </action>
                                <action id="-2" name="Set Y" sid="1363148706615015" type="MirrorLOS">
                                    <param id="0" name="Y">MirrorLOS.Y - (Mirror.Height/2)-4</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4686404485694433">
                            <conditions>
                                <condition id="-22" name="Else" sid="7631072535964655" type="System" />
                                <condition id="1" name="Compare parameter" sid="7018141959288117" type="Function">
                                    <param id="0" name="Index">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Down&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="3773995896901897" type="MirrorBeam">
                                    <param id="0" name="Angle">270</param>
                                </action>
                                <action id="-8" name="Set angle" sid="1032039920149277" type="MirrorLOS">
                                    <param id="0" name="Angle">90</param>
                                </action>
                                <action id="-2" name="Set Y" sid="7075440802855559" type="MirrorLOS">
                                    <param id="0" name="Y">MirrorLOS.Y + (Mirror.Height/2)+4</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6217971582422845">
                            <conditions>
                                <condition id="-22" name="Else" sid="7534414202825571" type="System" />
                                <condition id="1" name="Compare parameter" sid="5410185336890882" type="Function">
                                    <param id="0" name="Index">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Left&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="6729059304634594" type="MirrorBeam">
                                    <param id="0" name="Angle">0</param>
                                </action>
                                <action id="-8" name="Set angle" sid="1690607366294898" type="MirrorLOS">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action id="-1" name="Set X" sid="3620070206072972" type="MirrorLOS">
                                    <param id="0" name="X">MirrorLOS.X - (Mirror.Width/2)-4</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8414392704715474">
                            <conditions>
                                <condition id="-22" name="Else" sid="5809768419221659" type="System" />
                                <condition id="1" name="Compare parameter" sid="7444098463977795" type="Function">
                                    <param id="0" name="Index">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Right&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="342982881094536" type="MirrorBeam">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action id="-8" name="Set angle" sid="4671976968842166" type="MirrorLOS">
                                    <param id="0" name="Angle">0</param>
                                </action>
                                <action id="-1" name="Set X" sid="1761177928038456" type="MirrorLOS">
                                    <param id="0" name="X">MirrorLOS.X + (Mirror.Width/2)+4</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4808481350072213">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="7636352158243932" type="MirrorBeam">
                            <param id="0" name="Unique ID">BeamUID</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="8534436175997609" type="MirrorLOS">
                            <param id="0" name="Unique ID">losuid</param>
                        </condition>
                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="5577446014209522" type="MirrorLOS">
                            <param id="0" name="Object">Mirror</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="6849986768397079" type="MirrorBeam">
                            <param id="0" name="Width">distance(MirrorLOS.X,MirrorLOS.Y,Mirror.X,Mirror.Y)+(Mirror.Width/2)+4</param>
                        </action>
                        <action id="-3" name="Set position" sid="5855811755695959" type="MirrorLOS">
                            <param id="0" name="X">LastX</param>
                            <param id="1" name="Y">LastY</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2588333044163645">
                    <conditions>
                        <condition id="-22" name="Else" sid="2061166431960136" type="System" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="5481392137436639">
                    <conditions />
                    <actions>
                        <action id="1" name="Set return value" sid="5959322090835004" type="Function">
                            <param id="0" name="Value">BeamUID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="3149843015373724">
            <conditions>
                <condition id="0" name="On function" sid="5628903638742202" type="Function">
                    <param id="0" name="Name">&quot;CreateLOSObject&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="1606346289968306" type="Mirror">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="8970137359979878" type="System">
                    <param id="0" name="Object to create">MirrorLOS</param>
                    <param id="1" name="Layer">&quot;OBJECT&quot;</param>
                    <param id="2" name="X">Mirror.X</param>
                    <param id="3" name="Y">Mirror.Y</param>
                </action>
                <action id="-10" name="Set value" sid="2971004748957989" type="MirrorLOS">
                    <param id="0" name="Instance variable">MirrorUID</param>
                    <param id="1" name="Value">Mirror.UID</param>
                </action>
                <action id="-10" name="Set value" sid="3411343692010206" type="Mirror">
                    <param id="0" name="Instance variable">LosUID</param>
                    <param id="1" name="Value">MirrorLOS.UID</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3393618971441615">
            <conditions>
                <condition id="-2" name="On start of layout" sid="908994320680698" type="System" />
                <condition id="-11" name="For Each" sid="9653691472286189" type="System">
                    <param id="0" name="Object">Mirror</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Call function" sid="2889703975025521" type="Function">
                    <param id="0" name="Name">&quot;CreateLOSObject&quot;</param>
                    <param id="1" name="Parameter {n}">Mirror.UID</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
